<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Travailler avec des NA • ecotools</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><meta property="og:title" content="Travailler avec des NA">
<meta property="og:description" content="">
<meta property="og:image" content="https://davidcarayon.github.io/ecotools/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ecotools</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/vign_ecotools.html">
    <span class="fa fa-book"></span>
     
    Documentation
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Fonctions
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/bonnes_pratiques.html">Bonnes pratiques générales</a>
    </li>
    <li>
      <a href="../articles/import.html">Importer des données</a>
    </li>
    <li>
      <a href="../articles/tidy.html">Introduction au tidyverse</a>
    </li>
    <li>
      <a href="../articles/na_work.html">Travailler avec des NA</a>
    </li>
    <li>
      <a href="../articles/pb_spread.html">Attention à matrify() !</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://hydrobio-dce.irstea.fr/">
    <span class="fa fa-tint"></span>
     
    Hydrobio-DCE
  </a>
</li>
<li>
  <a href="https://github.com/davidcarayon/ecotools">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Travailler avec des NA</h1>
                        <h4 class="author">David Carayon</h4>
            
            <h4 class="date">2018-04-12</h4>
      
      <small>Source: <a href="https://github.com/davidcarayon/ecotools/blob/master/vignettes/na_work.Rmd"><code>vignettes/na_work.Rmd</code></a></small>

    </div>

    
    
<div class="contents">
<blockquote>
<p>Note : Cet article est fortemment inspiré d’une présentation à la rstudio::conf 2018 sur le traitement des données manquantes.</p>
</blockquote>
<p>En tant que data scientist, rares sont les jeux de données auxquels nous sommes confrontés qui ne comportent pas de valeurs manquantes, les fameux <code>NA</code>, pour “Non applicable”.</p>
<div id="loption-de-facilite" class="section level1">
<h1 class="hasAnchor">
<a href="#loption-de-facilite" class="anchor"></a>L’option de facilité</h1>
<p>La manière la plus simple de gérer les valeurs manquantes, c’est de les retirer. Dans certain cas, il peut effectivement s’agir de la meilleure solution.</p>
<p><a href="https://imgflip.com/i/2409hy"><img src="https://i.imgflip.com/2409hy.jpg" title="made at imgflip.com"></a></p>
<p>Cependant, en règle générale, les valeurs manquantes sont révélatrice de la qualité du jeu de données utilisé. De plus, leur analyse n’est pas forcémment dénuée de sens et peut apporter des informations supplémentaires à l’étude.</p>
<p>Pour cet article, on se basera sur le dataset <code>airquality</code>, un jeu de données représentant les mesures de différents composants atmosphériques à différentes dates.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
airquality &lt;-<span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/tbl_df.html">tbl_df</a></span>(airquality)
airquality</code></pre></div>
<pre><code>## # A tibble: 153 x 6
##    Ozone Solar.R  Wind  Temp Month   Day
##    &lt;int&gt;   &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1    41     190  7.40    67     5     1
##  2    36     118  8.00    72     5     2
##  3    12     149 12.6     74     5     3
##  4    18     313 11.5     62     5     4
##  5    NA      NA 14.3     56     5     5
##  6    28      NA 14.9     66     5     6
##  7    23     299  8.60    65     5     7
##  8    19      99 13.8     59     5     8
##  9     8      19 20.1     61     5     9
## 10    NA     194  8.60    69     5    10
## # ... with 143 more rows</code></pre>
<p>On remarque déjà la présence de NA pour les variables Ozone et Solar.R. Certaines observations présentent un NA pour ces deux paramètres simultanés.</p>
<p>Le jeu de données est dit “tidy” (une observation par ligne, une variable par colonne), nous allons donc pouvoir appliquer les méthodes du tidyverse pour analyser un peu ces valeurs absentes.</p>
</div>
<div id="les-packages-necessaires" class="section level1">
<h1 class="hasAnchor">
<a href="#les-packages-necessaires" class="anchor"></a>Les packages nécessaires :</h1>
<p>En plus des outils classiques du tidyverse (dplyr,ggplot2), nous allons utiliser deux packages dédiés aux valeurs manquantes :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(visdat)
<span class="kw">library</span>(naniar)</code></pre></div>
</div>
<div id="le-concept-de-data-shadow" class="section level1">
<h1 class="hasAnchor">
<a href="#le-concept-de-data-shadow" class="anchor"></a>Le concept de data-shadow</h1>
<p>Le package <code>naniar</code> introduit un concept intéréssant pour l’étude des NA : les data-shadow.<br>
Comme le nom l’indique, il s’agit de l’ombre des données utilisées, qui vont être codés de façon binaire : “NA” ou “!NA”.</p>
<p>Exemple :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># On considère un sous-échantillon pour l'exemple</span>
airquality[<span class="dv">4</span><span class="op">:</span><span class="dv">7</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/naniar/topics/bind_shadow">bind_shadow</a></span>()</code></pre></div>
<pre><code>## # A tibble: 4 x 6
##   Ozone Solar.R  Wind Ozone_NA Solar.R_NA Wind_NA
##   &lt;int&gt;   &lt;int&gt; &lt;dbl&gt; &lt;fct&gt;    &lt;fct&gt;      &lt;fct&gt;  
## 1    18     313 11.5  !NA      !NA        !NA    
## 2    NA      NA 14.3  NA       NA         !NA    
## 3    28      NA 14.9  !NA      NA         !NA    
## 4    23     299  8.60 !NA      !NA        !NA</code></pre>
<p>Un deuxième tableau, représentant l’ombre du premier, vient donc se greffer à sa droite. C’est ce sous tableau qui va faciliter l’analyse des données manquantes.</p>
</div>
<div id="quantification-des-valeurs-manquantes" class="section level1">
<h1 class="hasAnchor">
<a href="#quantification-des-valeurs-manquantes" class="anchor"></a>Quantification des valeurs manquantes</h1>
<p>C’est parti pour les analyses !</p>
<p>Dans un premier temps, on va observer graphiquement la répartition des NA à l’aide du package <code>visdat</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="http://www.rdocumentation.org/packages/visdat/topics/vis_miss">vis_miss</a></span>(airquality)</code></pre></div>
<p><img src="na_work_files/figure-html/unnamed-chunk-4-1.png" width="672"></p>
<p>Les données d’ozone semblent être les plus fragiles, avec près d’un quart de valeurs manquantes. Il manque également des données de radiation solaire.</p>
<p>Maintenant, il est possible de résumer les valeurs manquantes sous forme d’un summary classique :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="http://www.rdocumentation.org/packages/naniar/topics/miss_var_summary">miss_var_summary</a></span>(airquality)</code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   variable n_miss pct_miss n_miss_cumsum
##   &lt;chr&gt;     &lt;int&gt;    &lt;dbl&gt;         &lt;int&gt;
## 1 Ozone        37    24.2             37
## 2 Solar.R       7     4.58            44
## 3 Wind          0     0               44
## 4 Temp          0     0               44
## 5 Month         0     0               44
## 6 Day           0     0               44</code></pre>
<p>On a donc 37 valeurs manquantes pour l’ozone et 7 pour les radiations. Essayons de rentrer un peu plus dans le détail avec <code>dplyr</code> :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">airquality <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(Month) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/naniar/topics/miss_var_summary">miss_var_summary</a></span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(n_miss <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) <span class="co"># On ne regarde que les NA</span></code></pre></div>
<pre><code>## # A tibble: 7 x 5
##   Month variable n_miss pct_miss n_miss_cumsum
##   &lt;int&gt; &lt;chr&gt;     &lt;int&gt;    &lt;dbl&gt;         &lt;int&gt;
## 1     5 Ozone         5    16.1              5
## 2     5 Solar.R       4    12.9              9
## 3     6 Ozone        21    70.0             21
## 4     7 Ozone         5    16.1              5
## 5     8 Ozone         5    16.1              5
## 6     8 Solar.R       3     9.68             8
## 7     9 Ozone         1     3.33             1</code></pre>
<p>Tiens, la majorité des NA proviennent du mois de juin…</p>
<p>Maintenant, faisons appel à une autre de nos librairies préférées : <code>ggplot2</code>, en l’associant avec <code>geom_miss_point</code> fourni par <code>naniar</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data=</span>airquality, <span class="kw">aes</span>(<span class="dt">x=</span>Solar.R, <span class="dt">y =</span> Ozone)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/naniar/topics/geom_miss_point">geom_miss_point</a></span>()</code></pre></div>
<p><img src="na_work_files/figure-html/unnamed-chunk-7-1.png" width="672"></p>
<p>Cette représentation graphique permet de visualiser l’origine des valeurs manquantes en observant deux variables en simultané. De ce fait, cette visualisation permet d’identifier l’origine de ces valeurs manquantes : Dans quelles valeurs de radiations solaires nous manque-t-il plus de valeurs d’Ozone correspondantes ?</p>
</div>
<div id="utilisation-des-data-shadow" class="section level1">
<h1 class="hasAnchor">
<a href="#utilisation-des-data-shadow" class="anchor"></a>Utilisation des data-shadow</h1>
<p>La représentation graphique peut être poussée plus loin, c’est donc ici que nous ferons appel aux data-shadow :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Graphiquement</span>
airquality <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/naniar/topics/bind_shadow">bind_shadow</a></span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>Temp, <span class="dt">fill =</span> Ozone_NA)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha=</span><span class="fl">0.7</span>)</code></pre></div>
<p><img src="na_work_files/figure-html/unnamed-chunk-8-1.png" width="672"></p>
<p>Intéressant, il semblerait donc que les NA d’ozone se concentrent particulièrement sur les températures de 80°.</p>
<p>Bien d’autres fonctions super intéressantes existent dans les deux packages utilisés, je vous renvoie donc vers leurs vignettes pour aller plus loin.</p>
</div>
<div id="limputation" class="section level1">
<h1 class="hasAnchor">
<a href="#limputation" class="anchor"></a>L’imputation</h1>
<p>Selon les jeux de données, un NA n’aura pas toujours la même signification. En écologie, par exemple, l’absence d’une espèce sur un site peut souvent être traduite en NA (case laissée vide par l’opérateur dans le tableur). Dans ce cas particulier, le NA peut être traduit en 0 sans que cela ne cause réellement de problème. Il reste cependant le risque que le NA ne soit pas une case vide mais plutôt une erreur de saisie ou une information perdue lors du transfert d’informations. En revanche, pour des données de température par exemple, un NA ne peut être traduit en “0°C”. Dans le cas où les lignes de NA sont en très faible effectif, la solution peut donc être ici de tout simplement retirer ces ligne à l’aide de <code>na.omit</code>.</p>
<p>Cependant, lorsque l’on jette un coup d’oeil à nos données</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">airquality</code></pre></div>
<pre><code>## # A tibble: 153 x 6
##    Ozone Solar.R  Wind  Temp Month   Day
##    &lt;int&gt;   &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1    41     190  7.40    67     5     1
##  2    36     118  8.00    72     5     2
##  3    12     149 12.6     74     5     3
##  4    18     313 11.5     62     5     4
##  5    NA      NA 14.3     56     5     5
##  6    28      NA 14.9     66     5     6
##  7    23     299  8.60    65     5     7
##  8    19      99 13.8     59     5     8
##  9     8      19 20.1     61     5     9
## 10    NA     194  8.60    69     5    10
## # ... with 143 more rows</code></pre>
<p>Il semble dommage de retirer les lignes comportant des NA, alors qu’elles comportent au moins toujours des données de température. Cependant, certaines méthodes, la PCA par exemple, n’acceptent que des tableaux sans NA comme données d’entrée.</p>
<p>La solution qui s’impose alors est <strong>l’imputation</strong></p>
<div id="imputation-kezako" class="section level2">
<h2 class="hasAnchor">
<a href="#imputation-kezako" class="anchor"></a>Imputation ? kézako ?</h2>
<p>L’imputation est une technique qui permet de modéliser les valeurs manquantes selon des modèles pré-établis. Il existe des tas de modèles et le plus dur dans l’imputation reste de définir quel modèle utiliser en fonction de notre jeu de données. Quelques exemples :</p>
<ul>
<li>imputation moyenne : On remplace chaque NA par la moyenne globale de la variable (<code>na.rm=TRUE</code> of course)</li>
<li>imputation linéaire : Une régression entre la variable à imputer et une ou plusieurs autres variables plus complètes peut, à condition que la relation soit correcte, permettre de “prédire” les données manquantes. Une telle régression peut être validée visuellement par les outils présentés plus haut combinés à un package dédié aux imputations : <code>simputation</code>
</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(simputation)
airquality <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/naniar/topics/bind_shadow">bind_shadow</a></span>() <span class="op">%&gt;%</span>
<span class="st">  </span>simputation<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/simputation/topics/impute_lm">impute_lm</a></span>(Ozone <span class="op">~</span><span class="st"> </span>Temp <span class="op">+</span><span class="st"> </span>Wind) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>Temp,<span class="dt">y=</span>Ozone,<span class="dt">color=</span>Ozone_NA)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="na_work_files/figure-html/unnamed-chunk-10-1.png" width="672"></p>
</div>
<div id="imputation-multivariee" class="section level2">
<h2 class="hasAnchor">
<a href="#imputation-multivariee" class="anchor"></a>Imputation multivariée</h2>
<p>Je mentionnais les PCA tout à l’heure. Il arrive parfois d’avoir un très grand jeu de données “à trou”, où il est impossible de retirer les lignes présentant au moins un NA sous peine de virer plus de la moitié des données. Une autre méthode d’imputation, optimisée pour les analyses multivariées, a été développée dans le package <code>missMDA</code>.</p>
<p>Ce package, complément de <code>FactomineR</code>, permet de faire de l’umputation simple et multiple. Le package impute les valeurs manquantes de sorte que les valeurs imputées n’aient pas d’influence sur les résultats de l’analyse factorielle, elles sont calculées de sortes à ce qu’elles rendent juste possible l’analyse.</p>
<p>L’imputation se fait elle-même par des méthodes de réduction dimensionnelles (type ACP), ce qui lui permet de traiter de gros volumes de données.</p>
<p>Plus d’infos : <a href="http://factominer.free.fr/missMDA/index_fr.html">missMDA</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(missMDA) 

<span class="co"># On passe d'abord tout en quantitatif, et on repasse au format df (missMDA n'est pas à la mode !)</span>
airquality &lt;-<span class="st"> </span>airquality <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/summarise_all.html">mutate_all</a></span>(as.numeric) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">as.data.frame</span>()


<span class="co"># Choix du nombre d'axes à conserver pour l'imputation</span>
nb &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/missMDA/topics/estim_ncpPCA">estim_ncpPCA</a></span>(airquality,<span class="dt">ncp.max=</span><span class="dv">5</span>)
nb ## 1 axe est à conserver pour l'imputation </code></pre></div>
<pre><code>## $ncp
## [1] 0
## 
## $criterion
##        0        1        2        3        4        5 
## 1520.506 1823.946 1771.702 2774.323 2888.306 6369.592</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">impute_air &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/missMDA/topics/MIPCA">MIPCA</a></span>(airquality,<span class="dt">ncp=</span><span class="dv">1</span>) <span class="co"># Imputation</span>

airquality2 &lt;-<span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/tbl_df.html">tbl_df</a></span>(impute_air<span class="op">$</span>res.imputePCA)
airquality2</code></pre></div>
<pre><code>## # A tibble: 153 x 6
##    Ozone Solar.R  Wind  Temp Month   Day
##    &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 41.0    190    7.40  67.0  5.00  1.00
##  2 36.0    118    8.00  72.0  5.00  2.00
##  3 12.0    149   12.6   74.0  5.00  3.00
##  4 18.0    313   11.5   62.0  5.00  4.00
##  5  7.23   137   14.3   56.0  5.00  5.00
##  6 28.0    153   14.9   66.0  5.00  6.00
##  7 23.0    299    8.60  65.0  5.00  7.00
##  8 19.0     99.0 13.8   59.0  5.00  8.00
##  9  8.00    19.0 20.1   61.0  5.00  9.00
## 10 31.4    194    8.60  69.0  5.00 10.0 
## # ... with 143 more rows</code></pre>
<p>L’ACP devient donc possible.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(FactoMineR) ; <span class="kw">library</span>(factoextra) ;<span class="kw">library</span>(ggthemes);<span class="kw">library</span>(viridis)

airquality2 &lt;-<span class="st"> </span>airquality2 <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/summarise_all.html">mutate_at</a></span>(<span class="kw"><a href="http://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(Month, Day), as.character)

<span class="co"># On garde la date en explicatif</span>
res.pca &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/FactoMineR/topics/PCA">PCA</a></span>(airquality2,<span class="dt">quali.sup=</span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>), <span class="dt">graph =</span> <span class="ot">FALSE</span>)


<span class="co"># Variables</span>
<span class="kw"><a href="http://www.rdocumentation.org/packages/factoextra/topics/fviz_pca">fviz_pca_var</a></span>(res.pca,<span class="dt">col.var=</span><span class="st">"cos2"</span>,<span class="dt">col.circle=</span><span class="st">"black"</span>,<span class="dt">title =</span> <span class="st">"Variables"</span>,
             <span class="dt">col.quanti.sup=</span><span class="st">"chartreuse4"</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/viridis/topics/scale_viridis">scale_color_viridis</a></span>(<span class="dt">direction=</span><span class="op">-</span><span class="dv">1</span>)</code></pre></div>
<p><img src="na_work_files/figure-html/unnamed-chunk-12-1.png" width="672"></p>
</div>
</div>
<div id="informations-de-session" class="section level1">
<h1 class="hasAnchor">
<a href="#informations-de-session" class="anchor"></a>Informations de session</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sessionInfo</span>()</code></pre></div>
<pre><code>## R version 3.4.4 (2018-03-15)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 16.04.4 LTS
## 
## Matrix products: default
## BLAS: /usr/lib/libblas/libblas.so.3.6.0
## LAPACK: /usr/lib/lapack/liblapack.so.3.6.0
## 
## locale:
##  [1] LC_CTYPE=fr_FR.UTF-8       LC_NUMERIC=C              
##  [3] LC_TIME=fr_FR.UTF-8        LC_COLLATE=fr_FR.UTF-8    
##  [5] LC_MONETARY=fr_FR.UTF-8    LC_MESSAGES=fr_FR.UTF-8   
##  [7] LC_PAPER=fr_FR.UTF-8       LC_NAME=C                 
##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
## [11] LC_MEASUREMENT=fr_FR.UTF-8 LC_IDENTIFICATION=C       
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] viridis_0.5.0     viridisLite_0.3.0 ggthemes_3.4.0   
##  [4] factoextra_1.0.5  FactoMineR_1.40   missMDA_1.11     
##  [7] simputation_0.2.2 bindrcpp_0.2      naniar_0.2.0     
## [10] visdat_0.1.0      forcats_0.2.0     stringr_1.3.0    
## [13] purrr_0.2.4       readr_1.1.1       tidyr_0.8.0      
## [16] tibble_1.4.2      ggplot2_2.2.1     tidyverse_1.2.1  
## [19] dplyr_0.7.4      
## 
## loaded via a namespace (and not attached):
##  [1] httr_1.3.1           jsonlite_1.5         splines_3.4.4       
##  [4] modelr_0.1.1         assertthat_0.2.0     cellranger_1.1.0    
##  [7] ggrepel_0.7.0        yaml_2.1.18          pillar_1.1.0        
## [10] backports_1.1.2      lattice_0.20-35      glue_1.2.0          
## [13] digest_0.6.15        rvest_0.3.2          colorspace_1.3-2    
## [16] Matrix_1.2-13        htmltools_0.3.6      plyr_1.8.4          
## [19] psych_1.7.8          pkgconfig_2.0.1      broom_0.4.3         
## [22] haven_1.1.1          mvtnorm_1.0-7        scales_0.5.0        
## [25] gower_0.1.2          ggpubr_0.1.6         nnet_7.3-12         
## [28] lazyeval_0.2.1       cli_1.0.0            mnormt_1.5-5        
## [31] survival_2.41-3      magrittr_1.5         crayon_1.3.4        
## [34] readxl_1.0.0         memoise_1.1.0        evaluate_0.10.1     
## [37] mice_2.46.0          fs_1.2.2             nlme_3.1-137        
## [40] MASS_7.3-48          xml2_1.2.0           foreign_0.8-69      
## [43] tools_3.4.4          hms_0.4.1            munsell_0.4.3       
## [46] cluster_2.0.7        flashClust_1.01-2    compiler_3.4.4      
## [49] pkgdown_0.1.0.9000   rlang_0.2.0          grid_3.4.4          
## [52] rstudioapi_0.7       leaps_3.0            labeling_0.3        
## [55] rmarkdown_1.9        gtable_0.2.0         roxygen2_6.0.1      
## [58] reshape2_1.4.3       R6_2.2.2             gridExtra_2.3       
## [61] lubridate_1.7.2      knitr_1.20           utf8_1.1.3          
## [64] bindr_0.1            commonmark_1.4       rprojroot_1.3-2     
## [67] desc_1.1.1           stringi_1.1.7        parallel_3.4.4      
## [70] Rcpp_0.12.16         rpart_4.1-13         scatterplot3d_0.3-41
## [73] tidyselect_0.2.3</code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#loption-de-facilite">L’option de facilité</a></li>
      <li><a href="#les-packages-necessaires">Les packages nécessaires :</a></li>
      <li><a href="#le-concept-de-data-shadow">Le concept de data-shadow</a></li>
      <li><a href="#quantification-des-valeurs-manquantes">Quantification des valeurs manquantes</a></li>
      <li><a href="#utilisation-des-data-shadow">Utilisation des data-shadow</a></li>
      <li>
<a href="#limputation">L’imputation</a><ul class="nav nav-pills nav-stacked">
<li><a href="#imputation-kezako">Imputation ? kézako ?</a></li>
      <li><a href="#imputation-multivariee">Imputation multivariée</a></li>
      </ul>
</li>
      <li><a href="#informations-de-session">Informations de session</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by David Carayon, Sebastien Boutry, Thibault Leboucher, Marie Wach.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
